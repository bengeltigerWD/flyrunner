<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Smart HTML Studio</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Poppins',sans-serif;
  background:var(--bg);color:var(--text);
  --bg:#f4f4f9;--text:#222;--panel:#fff;--accent:#0078ff;--border:#ccc;
  transition:.3s;
}
body.dark{--bg:#1e1e1e;--text:#ddd;--panel:#2b2b2b;--border:#444}
header{
  display:flex;justify-content:space-between;align-items:center;
  background:var(--panel);padding:8px 12px;border-bottom:1px solid var(--border);
}
header h1{font-size:1.1em}
header button{
  margin-left:6px;border:none;background:var(--accent);color:#fff;
  padding:6px 10px;border-radius:5px;cursor:pointer;font-size:14px;
}
header button:hover{opacity:.85}
#container{display:flex;flex-direction:row;height:calc(100vh - 130px);}
#editor,#output{flex:1;margin:6px;border-radius:8px;overflow:hidden;border:1px solid var(--border);}
#editor{display:flex;flex-direction:column;background:var(--panel);}
#toolbar{
  display:flex;flex-wrap:wrap;justify-content:center;gap:6px;
  background:var(--panel);padding:6px;border-bottom:1px solid var(--border);
  position:sticky;top:0;z-index:3;
}
#toolbar button{
  background:var(--accent);color:white;border:none;border-radius:5px;
  padding:4px 8px;font-size:16px;cursor:pointer;
}
#toolbar button:active{opacity:.7}
#code{
  flex:1;width:100%;border:none;outline:none;
  background:transparent;color:var(--text);
  font-family:monospace;font-size:14px;padding:10px;resize:none;
}
iframe{width:100%;height:100%;border:none;background:#fff;}
footer{
  text-align:center;padding:8px;font-size:.9em;background:var(--panel);
  border-top:1px solid var(--border);
}
footer a{color:var(--accent);text-decoration:none;}
footer a:hover{text-decoration:underline;}
/* modal + register */
#register,#modal{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;
  background:rgba(0,0,0,.6);z-index:999;
}
.register-box,.modal-content{
  background:var(--panel);padding:20px;border-radius:10px;width:300px;max-width:90%;
}
.register-box input{
  width:100%;margin:5px 0;padding:8px;border:1px solid var(--border);border-radius:5px;
}
.register-box button{
  width:100%;padding:8px;margin-top:8px;background:var(--accent);
  color:white;border:none;border-radius:5px;cursor:pointer;
}
.modal-content ul{list-style:none;padding:0;max-height:200px;overflow:auto;}
.modal-content li{margin:4px 0;display:flex;justify-content:space-between;align-items:center;}
.modal-content li button{background:red;color:#fff;border:none;border-radius:4px;padding:2px 6px;cursor:pointer;}
@media(max-width:768px){
  #container{flex-direction:column;}
  #editor,#output{height:50%;margin:4px;}
}
</style>
</head>
<body>

<div id="register">
  <div class="register-box">
    <h3>Sign Up</h3>
    <input id="name" placeholder="Full Name">
    <input id="email" type="email" placeholder="Email">
    <input id="mobile" placeholder="Mobile Number">
    <button id="signupBtn">Sign Up</button>
  </div>
</div>

<header>
  <h1>Smart HTML Studio</h1>
  <div>
    <button id="newBtn">‚ûï</button>
    <button id="openBtn">Open</button>
    <button id="saveBtn">Save</button>
    <button id="runBtn">Run</button>
    <button id="themeBtn">üåó</button>
  </div>
</header>

<div id="container">
  <div id="editor">
    <div id="toolbar">
      <button data-insert="<">&lt;</button>
      <button data-insert=">">&gt;</button>
      <button data-insert="/">&sol;</button>
      <button data-insert="=">=</button>
      <button data-insert='"'>&quot;</button>
      <button data-insert="'">'</button>
      <button data-insert="{">{</button>
      <button data-insert="}">}</button>
      <button data-insert="(">(</button>
      <button data-insert=")">)</button>
      <button data-insert=";">;</button>
    </div>
    <textarea id="code" placeholder="Write your HTML, CSS, JS here..."></textarea>
  </div>
  <div id="output"><iframe id="preview"></iframe></div>
</div>

<footer>
  Developed by Ajmir Ahmed ‚Äî <a href="https://example.com" target="_blank">Visit Website</a>
</footer>

<div id="modal">
  <div class="modal-content">
    <h3>Saved Projects</h3>
    <ul id="projectList"></ul>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<script>
// Registration
const regBox=document.getElementById('register');
if(!localStorage.getItem('registered'))regBox.style.display='flex';
document.getElementById('signupBtn').onclick=()=>{
 let n=name.value.trim(),e=email.value.trim(),m=mobile.value.trim();
 if(!n||!e||!m)return alert('All fields required');
 fetch('https://formspree.io/f/xleqzeen',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:n,email:e,mobile:m})})
 .finally(()=>{localStorage.setItem('registered','true');regBox.style.display='none';alert('Registered successfully!');});
};

// Elements
const txt=document.getElementById('code'),frame=document.getElementById('preview');
let current=null;

// Run Code
const run=()=>frame.srcdoc=txt.value;
document.getElementById('runBtn').onclick=run;

// Auto close tag
txt.addEventListener('input',e=>{
 if(e.data==='>'){
   const m=txt.value.match(/<(\w+)>$/);
   if(m){txt.value+=`</${m[1]}>`;}
 }
});

// Toolbar insert
document.querySelectorAll('#toolbar button').forEach(btn=>{
 btn.onclick=()=>{
   const val=btn.getAttribute('data-insert');
   const start=txt.selectionStart,end=txt.selectionEnd;
   txt.value=txt.value.substring(0,start)+val+txt.value.substring(end);
   txt.selectionStart=txt.selectionEnd=start+val.length;
   txt.focus();
 };
});

// Projects
function save(){
 const name=current||prompt('Project name:');
 if(!name)return;
 localStorage.setItem('proj_'+name,txt.value);current=name;alert('Saved!');
}
function load(name){
 txt.value=localStorage.getItem('proj_'+name)||'';current=name;closeModal();
}
function del(name){
 if(confirm('Delete project?')){localStorage.removeItem('proj_'+name);openModal();}
}
function newP(){if(confirm('Clear current code?')){txt.value='';current=null;}}
function openModal(){
 const list=document.getElementById('projectList');list.innerHTML='';
 Object.keys(localStorage).forEach(k=>{
  if(k.startsWith('proj_')){
   const n=k.replace('proj_','');
   const li=document.createElement('li');
   li.innerHTML=`<span>${n}</span>
    <div><button onclick="load('${n}')">Open</button>
    <button onclick="del('${n}')">‚ùå</button></div>`;
   list.appendChild(li);
  }
 });
 document.getElementById('modal').style.display='flex';
}
function closeModal(){document.getElementById('modal').style.display='none';}
document.getElementById('saveBtn').onclick=save;
document.getElementById('openBtn').onclick=openModal;
document.getElementById('newBtn').onclick=newP;

// Theme
document.getElementById('themeBtn').onclick=()=>{
 document.body.classList.toggle('dark');
 localStorage.setItem('theme',document.body.classList.contains('dark')?'dark':'light');
};
if(localStorage.getItem('theme')==='dark')document.body.classList.add('dark');
</script>
</body>
</html>
